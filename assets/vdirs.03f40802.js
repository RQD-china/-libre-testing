import{a,o as c}from"./evtd.5b1ed12a.js";const s="@@mmoContext",x={mounted(n,{value:e}){n[s]={handler:void 0},typeof e=="function"&&(n[s].handler=e,a("mousemoveoutside",n,e))},updated(n,{value:e}){const t=n[s];typeof e=="function"?t.handler?t.handler!==e&&(c("mousemoveoutside",n,t.handler),t.handler=e,a("mousemoveoutside",n,e)):(n[s].handler=e,a("mousemoveoutside",n,e)):t.handler&&(c("mousemoveoutside",n,t.handler),t.handler=void 0)},unmounted(n){const{handler:e}=n[s];e&&c("mousemoveoutside",n,e),n[s].handler=void 0}};var z=x;const o="@@coContext",f={mounted(n,{value:e}){n[o]={handler:void 0},typeof e=="function"&&(n[o].handler=e,a("clickoutside",n,e))},updated(n,{value:e}){const t=n[o];typeof e=="function"?t.handler?t.handler!==e&&(c("clickoutside",n,t.handler),t.handler=e,a("clickoutside",n,e)):(n[o].handler=e,a("clickoutside",n,e)):t.handler&&(c("clickoutside",n,t.handler),t.handler=void 0)},unmounted(n){const{handler:e}=n[o];e&&c("clickoutside",n,e),n[o].handler=void 0}};var g=f;function m(n,e){console.error(`[vdirs/${n}]: ${e}`)}class l{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(e,t){const{elementZIndex:d}=this;if(t!==void 0){e.style.zIndex=`${t}`,d.delete(e);return}const{nextZIndex:i}=this;d.has(e)&&d.get(e)+1===this.nextZIndex||(e.style.zIndex=`${i}`,d.set(e,i),this.nextZIndex=i+1,this.squashState())}unregister(e,t){const{elementZIndex:d}=this;d.has(e)?d.delete(e):t===void 0&&m("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:e}=this;e||(this.nextZIndex=2e3),this.nextZIndex-e>2500&&this.rearrange()}rearrange(){const e=Array.from(this.elementZIndex.entries());e.sort((t,d)=>t[1]-d[1]),this.nextZIndex=2e3,e.forEach(t=>{const d=t[0],i=this.nextZIndex++;`${i}`!==d.style.zIndex&&(d.style.zIndex=`${i}`)})}}var u=new l;const r="@@ziContext",I={mounted(n,e){const{value:t={}}=e,{zIndex:d,enabled:i}=t;n[r]={enabled:!!i,initialized:!1},i&&(u.ensureZIndex(n,d),n[r].initialized=!0)},updated(n,e){const{value:t={}}=e,{zIndex:d,enabled:i}=t,h=n[r].enabled;i&&!h&&(u.ensureZIndex(n,d),n[r].initialized=!0),n[r].enabled=!!i},unmounted(n,e){if(!n[r].initialized)return;const{value:t={}}=e,{zIndex:d}=t;u.unregister(n,d)}};var y=I;export{g as c,z as m,y as z};

let d=[];const A=new WeakMap;function C(){d.forEach(e=>e(...A.get(e))),d=[]}function S(e,...n){A.set(e,n),!d.includes(e)&&d.push(e)===1&&requestAnimationFrame(C)}function T(e,n){let{target:t}=e;for(;t;){if(t.dataset&&t.dataset[n]!==void 0)return!0;t=t.parentElement}return!1}function _(e){return typeof e=="string"?e.endsWith("px")?Number(e.slice(0,e.length-2)):Number(e):e}function k(e){if(e!=null)return typeof e=="number"?`${e}px`:e.endsWith("px")?e:`${e}px`}function z(e,n){const t=e.trim().split(/\s+/g),r={top:t[0]};switch(t.length){case 1:r.right=t[0],r.bottom=t[0],r.left=t[0];break;case 2:r.right=t[1],r.left=t[1],r.bottom=t[0];break;case 3:r.right=t[1],r.bottom=t[2],r.left=t[1];break;case 4:r.right=t[1],r.bottom=t[2],r.left=t[3];break;default:throw new Error("[seemly/getMargin]:"+e+" is not a valid value.")}return n===void 0?r:r[n]}function j(e,n){const[t,r]=e.split(" ");return n?n==="row"?t:r:{row:t,col:r||t}}var R={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"};const g="^\\s*",h="\\s*$",c="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",$="([0-9A-Fa-f])",p="([0-9A-Fa-f]{2})",M=new RegExp(`${g}rgb\\s*\\(${c},${c},${c}\\)${h}`),N=new RegExp(`${g}rgba\\s*\\(${c},${c},${c},${c}\\)${h}`),I=new RegExp(`${g}#${$}${$}${$}${h}`),G=new RegExp(`${g}#${p}${p}${p}${h}`),H=new RegExp(`${g}#${$}${$}${$}${$}${h}`),W=new RegExp(`${g}#${p}${p}${p}${p}${h}`);function s(e){return parseInt(e,16)}function x(e){try{let n;if(n=G.exec(e))return[s(n[1]),s(n[2]),s(n[3]),1];if(n=M.exec(e))return[i(n[1]),i(n[5]),i(n[9]),1];if(n=N.exec(e))return[i(n[1]),i(n[5]),i(n[9]),l(n[13])];if(n=I.exec(e))return[s(n[1]+n[1]),s(n[2]+n[2]),s(n[3]+n[3]),1];if(n=W.exec(e))return[s(n[1]),s(n[2]),s(n[3]),l(s(n[4])/255)];if(n=H.exec(e))return[s(n[1]+n[1]),s(n[2]+n[2]),s(n[3]+n[3]),l(s(n[4]+n[4])/255)];if(e in R)return x(R[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(n){throw n}}function q(e){return e>1?1:e<0?0:e}function y(e,n,t,r){return`rgba(${i(e)}, ${i(n)}, ${i(t)}, ${q(r)})`}function F(e,n,t,r,a){return i((e*n*(1-r)+t*r)/a)}function B(e,n){Array.isArray(e)||(e=x(e)),Array.isArray(n)||(n=x(n));const t=e[3],r=n[3],a=l(t+r-t*r);return y(F(e[0],t,n[0],r,a),F(e[1],t,n[1],r,a),F(e[2],t,n[2],r,a),a)}function D(e,n){const[t,r,a,f=1]=Array.isArray(e)?e:x(e);return n.alpha?y(t,r,a,n.alpha):y(t,r,a,f)}function J(e,n){const[t,r,a,f=1]=Array.isArray(e)?e:x(e),{lightness:o=1,alpha:m=1}=n;return O([t*o,r*o,a*o,f*m])}function l(e){const n=Math.round(Number(e)*100)/100;return n>1?1:n<0?0:n}function i(e){const n=Math.round(Number(e));return n>255?255:n<0?0:n}function O(e){const[n,t,r]=e;return 3 in e?`rgba(${i(n)}, ${i(t)}, ${i(r)}, ${l(e[3])})`:`rgba(${i(n)}, ${i(t)}, ${i(r)}, 1)`}globalThis&&globalThis.__awaiter;function K(e=8){return Math.random().toString(16).slice(2,2+e)}function L(e,n){const t=[];for(let r=0;r<e;++r)t.push(n);return t}export{D as a,K as b,B as c,_ as d,L as e,S as f,z as g,T as h,j as i,k as p,x as r,J as s};
